
POPP-LENS-HUB 合约方法说明

| method                                                                                      | 参数                                                                                                                                                                                                                                                                               | 说明                               | 可操作地址                 |
|---------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|-----------------------|
| setGovernance(address newGovernance)                                                        | newGovernance 新治理地址                                                                                                                                                                                                                                                              | 修改治理地址                           | onlyGov               |  
| setEmergencyAdmin(address newEmergencyAdmin)                                                | newEmergencyAdmin 新紧急处理地址                                                                                                                                                                                                                                                        | 修改新的紧急处理地址                       | onlyGov               | 
| setState(DataTypes.ProtocolState newState)                                                  | Unpaused 未暂停 <br> PublishingPaused 发布暂停 <br> Paused 暂停                                                                                                                                                                                                                           | 设置合约状态                           | onlyGov               | 
| setProfileAuthHubAddress(uint256 profileId, address authHubAddress)                         | profileId <br>  authHubAddress 权限管理地址                                                                                                                                                                                                                                            | 设置profile权限管理合约                  | 每个 EOA设置自己的 Profile   | 
| whitelistProfileCreator(address profileCreator, bool whitelist)                             | profileCreator 地址 <br>  whitelist  是否为白名单                                                                                                                                                                                                                                        | 添加/修改 profile 创建白名单地址            | onlyGov               | 
| whitelistFollowModule(address followModule, bool whitelist)                                 | followModule：followModule合约地址 <br>   whitelist 是否加入白名单                                                                                                                                                                                                                           | 新增修改支持的followModule              | onlyGov               | 
| whitelistReferenceModule(address referenceModule, bool whitelist)                           | referenceModule：referenceModule合约地址 <br>   whitelist 是否加入白名单                                                                                                                                                                                                                     | 新增修改支持的referenceModule           | onlyGov               | 
| whitelistCollectModule(address collectModule, bool whitelist)                               | collectModule：collectModule合约地址 <br>   whitelist 是否加入白名单                                                                                                                                                                                                                         | 新增修改支持的collectModule             | onlyGov               | 
| createProfile(DataTypes.CreateProfileData calldata vars)                                    | address to 接收地址 <br> string handle 处理标志,唯一 <br> string imageURI 图片 <br> address followModule 关注模式 <br> bytes followModuleInitData 关注模式初始化数据 <br> string followNFTURI 关注 nft 图片 <br> ProfileType profileType profile 类型 <br> uint256 planetProfileId 如果是创建基地Profile关联的星球profileID | 创建 Profile                       | EOA                   | 
| setDefaultProfile(uint256 profileId)                                                        | profileId: EOA 拥有的 Profile                                                                                                                                                                                                                                                       | 如果一个地址拥有多个 Profile设置一个默认 Profile | EOA                   | 
| setFollowModule(uint256 profileId,address followModule,bytes calldata followModuleInitData) | profileId, followModule, followModuleInitData                                                                                                                                                                                                                                    | 修改 profile 的 followModule        | EOA, profile owner    | 
| setFollowModule(uint256 profileId,address followModule,bytes calldata followModuleInitData) | profileId, followModule, followModuleInitData                                                                                                                                                                                                                                    | 修改 profile 的 followModule        | EOA, profile owner    |
| setDispatcher(uint256 profileId, address dispatcher)                                        | profileId, dispatcher                                                                                                                                                                                                                                                            | 设置 profile的调度员                   | EOA, owner of Profile | 
| setProfileImageURI(uint256 profileId, string calldata imageURI)                             |                                                                                                                                                                                                                                                                                  | 设置图片                             | EOA, owner of Profile | 
| setFollowNFTURI(uint256 profileId, string calldata followNFTURI)                            |                                                                                                                                                                                                                                                                                  | 设置 followNFT 图片                  | EOA, owner of Profile | 
| post(DataTypes.PostData calldata vars)                                                      | profileId：发布的 Profile <br>  baseProfileId:发布的所在基地 <br> contentURI：内容 <br> collectModule 收藏模式   <br>   collectModuleInitData 收藏模式数据 <br>  referenceModule 引用模式 <br>  referenceModuleInitData 引用模式数据                                                                               | 发布数据                             | EOA                   | 
| comment(DataTypes.CommentData calldata vars)                                                | profileId <br>  contentURI 评论内容 <br> profileIdPointed 评论关联的 profileID <br>  pubIdPointed 评论的信息 ID <br>  referenceModuleData 引用模式 数据 <br>  collectModule 收藏模式 <br> collectModuleInitData 收藏模式初始化数据  <br> referenceModule 引用模式 <br>  referenceModuleInitData 引用模式初始化数据             | 评论                               | EOA                   | 
| mirror(DataTypes.MirrorData calldata vars)                                                  | profileId <br>  profileIdPointed 被转发的作者  <br> pubIdPointed 被转发的消息 id <br>    referenceModuleData 引用模式 数据  <br> referenceModule 引用模式 <br>  referenceModuleInitData 引用模式初始化数据                                                                                                      | 转发                               | EOA                   | 
| burn(uint256 tokenId)                                                                       | tokenId: profileId                                                                                                                                                                                                                                                               | 销毁                               | EOA                   | 
| follow(uint256[] calldata profileIds, bytes[] calldata datas)                               | profileIds关注多个 profile 数组 <br>  datas 对应的 followModuleDatas                                                                                                                                                                                                                      | 关注 profile，注意基地 profile 不可关注     | EOA                   | 
| collect(uint256 profileId, uint256 pubId,    bytes calldata data)                           | profileId <br> pubId:收藏的 pubId <br> data : collectModuleData                                                                                                                                                                                                                     | 收藏信息并 mint 收藏 NFT                | EOA                   | 
| isProfileCreatorWhitelisted(address profileCreator)                          | profileCreator 创建者                                                                                                                                                                                                                                                               | 检查是否有创建权限                        | EOA      读取           | 

demo

    个人profile的创建 lensHub.createProfile profileType=PoppProfile planetProfileId=0
    星球profile的创建 lensHub.createProfile profileType=PlanetProfile planetProfileId=0
    基地profile的创建 lensHub.createProfile profileType=BaseProfile planetProfileId=星球profileID
    个人和个人之间的关注 lensHub.follow
    个人加入星球 lensHub.follow
    领袖管理星球 lensHub.setMuteFollower=禁言用户  lensHub.setMutePoppProfile=禁言profile lensHub.planetKickOutFollower=星球踢出用户
    个人/领袖在星球中发布内容 lensHub.post
